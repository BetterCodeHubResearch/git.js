<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script src="/git.js"></script>
    <script src="repo-viewer.js"></script>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
  </head>
  <body>
    <table class="controls">
      <tr>
        <td>
          <h3 class="main-title">Git.JS</h3>
        </td>
        <td>
          <form id="arbitrary-repo">
            <input type="text" class="arbitrary-uri" value="http://localhost:8080/mega_mutex.git" size="50">
            <input type="submit" value="Clone" id="">
          </form>
          <form id="refs">
            <select name="refs" id="refs-list">
              <option value=""></option>
            </select>
          </form>
        </td>
        <td>
          <br>
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td style="vertical-align: top;">
          <ul id="top-directory">
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
          </ul>
        </td>
        <td style="vertical-align: top;">
          <div id="main">
            <pre id="file-view">
            </pre>
          </div>
        </td>
      </tr>
    </table>
    
    <script type="text/javascript">
      $(document).ready(function() {
        $("form#arbitrary-repo").submit(function(e) {
          e.preventDefault()
          var uri = $("input.arbitrary-uri").attr("value")
          RepoViewer.demo(uri)
        })
        
        $("select#refs-list").change(function(e) {
          e.preventDefault()
          var refName = $("select#refs-list").val()
          RepoViewer.showRef(refName)
        })
      })
    </script>
  </body>
</html>
